<div class="row">
  <div class="col s12">
    <h4 class="center-align">Change Your Password</h4>
  </div>
</div>

<!-- Message -->
<div class="row" *ngIf="success||error">
  <div class="col s12">
    <div class="card" [class.green]="success" [class.red]="error">
      <div class="card-content">
        <div class="row" style="margin-bottom: 0px">
          <div class="col s10">
            <strong class="white-text">{{msg}}</strong>
          </div>
          <div class="col s2">
            <a class="btn-flat" (click)="success=error=false"><i class="material-icons white-text">close</i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="divider"></div>

<div class="row">
  <form class="col s12" name="form" (ngSubmit)="f.form.valid && confirm()" #f="ngForm" novalidate>

    <div class="row">
      <div class="input-field col s12" [ngClass]="{ 'has-error': f.submitted && !current.valid }">
        <input placeholder="Current Password" type="password" class="validate" name="current" [(ngModel)]="model.currentPassword" #current="ngModel" required/>
        <span *ngIf="f.submitted && !current.valid" class="red-text">Current password can't be empty!</span>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12" [ngClass]="{ 'has-error': f.submitted && !new.valid }">
        <input placeholder="New Password" type="password" class="validate" name="new" [(ngModel)]="model.newPassword" #new="ngModel" required/>
        <span *ngIf="f.submitted && !new.valid" class="red-text">New password can't be empty!</span>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12" [ngClass]="{ 'has-error': f.submitted && !repeat.valid }">
        <input placeholder="Repeat New Password" type="password" class="validate" name="repeat" [(ngModel)]="model.repeatPassword" #repeat="ngModel" required validateEqual="new"/>
        <span *ngIf="f.submitted && !repeat.valid" class="red-text">Password mismatch!</span>
      </div>
    </div>

    <div class="row center-align">
      <div class="col s12">
        <button [disabled]="loading" class="btn btn-primary">Confirm</button>
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
      </div>
    </div>
  </form>
</div>
